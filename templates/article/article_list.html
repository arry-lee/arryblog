{% extends 'article/article_base.html' %}
{% block middle %}

<!-- <ul class="breadcrumb">
				<li>
					<a href="/">主页</a>
				</li>
				<li>
					<a href="/">类目</a>
				</li>
				<li class="active">
					主题
				</li>
			</ul>
<h2> 文章列表 </h2>
<table class="table table-striped table-hover">
	<thead>
		<tr>
			<th>
				编号
			</th>
			<th>
				标题
			</th>
			<th>
				类型
			</th>
			<th>
				标签
			</th>
			<th>
				创建时间
			</th>
		</tr>
	</thead>
	<tbody>
		{% for article in articles %}
		<tr class="{% cycle 'info' 'none'%}">
			<td>
				{{ forloop.counter }}
			</td>
			<td>
				<a href="{% url 'article:article-detail' pk=article.pk %}">{{ article.title }}
			</td>
			<td>
				{{ article.type}}
			</td>
			<td>
				{% for t in article.tags.all %} {{t.name}}{% endfor %}
			</td>
			<td>
				{{ article.create_time}}
			</td>
		</tr>
		{% endfor %}
	</tbody>
</table>
 -->
<h3 class="text-normal">时间轴</h3>
<div class="row clearfix">
	<div class="timeline timeline-single-column">
		{% regroup articles by create_time.date as article_list %} 
		{% for date_article in article_list reversed %}
			{% for article in date_article.list reversed %}
			<div class="timeline-item">
				<div class="timeline-point timeline-point-blank">
				</div>
				<div class="timeline-event">
					<div class="timeline-heading">
						<a class="title" href="/article/{{article.id}}" >
							<h4>
							{{article.title}}
							</h4>
						</a>
					</div>
					<div class="timeline-body">
						<p>{{article.content|striptags|cut:'#'|truncatewords:20}}</p>
					</div>
					<div class="timeline-footer">
						<p class="text-right">{{article.create_time.time}}</p>
					</div>
				</div>
			</div>
			{% endfor %}
			<span class="timeline-label">
				<span class="label label-info">{{ date_article.grouper }}</span>
			</span>
		{% endfor %}

		<span class="timeline-label">
			<button class="btn btn-info"><i>没有更多了</i></button>
		</span>
	</div>
</div>
{% endblock middle %}
